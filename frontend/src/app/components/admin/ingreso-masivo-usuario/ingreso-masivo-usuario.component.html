<app-inicio>
  <p class="font-bold text-2xl text-gray-700">Ingreso Masivo de Usuarios</p>
  <p class="text-gray-600">Sube un archivo Excel para registrar usuarios de manera eficiente.</p>
  <div class="px-6 py-8 bg-gray-100">
    <!-- Contenedor principal -->
    <div class="flex flex-col items-center">
      <!-- Carga de archivo -->
      <div *ngIf="mostrarFormulario" class="w-full max-w-lg bg-white p-6 rounded-xl shadow-md border border-gray-200">
        <label
          for="file-upload"
          class="flex flex-col items-center justify-center border-2 border-dashed border-gray-300 p-6 rounded-lg cursor-pointer hover:bg-gray-50 transition"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-12 w-12 text-blue-600 mb-4"
            fill="currentColor"
            viewBox="0 0 20 20"
            aria-hidden="true"
          >
            <path
              fill-rule="evenodd"
              d="M5 3a2 2 0 012-2h6a2 2 0 012 2v14a2 2 0 01-2 2H7a2 2 0 01-2-2V3zm2-1h6a1 1 0 011 1v14a1 1 0 01-1 1H7a1 1 0 01-1-1V3a1 1 0 011-1z"
              clip-rule="evenodd"
            />
          </svg>
          <span class="text-gray-700 text-lg">Arrastra o selecciona un archivo Excel (.xlsx)</span>
          <input
            id="file-upload"
            type="file"
            accept=".xlsx"
            (change)="onArchivoCambio($event)"
            class="hidden"
          />
        </label>
        <p class="text-sm text-gray-500 text-center mt-4">
          Asegúrate de utilizar el formato correcto antes de importar el archivo.
        </p>
      </div>

      <!-- Botón para ingresar nuevo archivo -->
      <div *ngIf="!mostrarFormulario" class="mt-6">
        <button
          (click)="ingresarNuevoArchivo()"
          class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow transition"
        >
          Ingresar Nuevo Archivo
        </button>
      </div>
    </div>

    <!-- Tabla de resultados -->
    <div class="mt-10 w-full max-w-5xl mx-auto bg-white rounded-lg shadow-md border border-gray-200">
      <table
        *ngIf="usuariosImportados.length > 0"
        class="min-w-full border-collapse table-auto text-sm text-gray-700"
      >
        <thead class="bg-gray-50 border-b border-gray-200">
        <tr>
          <th class="p-4 text-left font-medium">Usuario</th>
          <th class="p-4 text-left font-medium">Mensaje</th>
        </tr>
        </thead>
        <tbody>
        <tr
          *ngFor="let resultado of usuariosImportados"
          class="hover:bg-gray-100 transition"
        >
          <td class="p-4 border-b border-gray-200">{{ resultado.usuario }}</td>
          <td class="p-4 border-b border-gray-200">{{ resultado.mensaje }}</td>
        </tr>
        </tbody>
      </table>
      <p
        *ngIf="usuariosImportados.length === 0"
        class="text-center text-gray-500 py-6"
      >
        No se han importado usuarios aún.
      </p>
    </div>
  </div>
</app-inicio>
